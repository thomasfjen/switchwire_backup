[menu __main __octoprint]
type: list
name: Mainsail

[menu __main __power]
type: list
name: Power

[menu __main __power __printer]
type: command
name: Power Off Printer
gcode: POWER_OFF_PRINTER

[menu __main __power __filament]
type: command
name: Toggle Filament Dryer
gcode: TOGGLE_FILAMENT_HEATER



[gcode_macro POWER_OFF_PRINTER]
gcode:
  {action_call_remote_method(
    "set_device_power", device="printer_power", state="off"
  )}

[gcode_macro TOGGLE_FILAMENT_HEATER]
gcode:
  {action_call_remote_method(
    "set_device_power", device="filament_heater", state="toggle"
  )}